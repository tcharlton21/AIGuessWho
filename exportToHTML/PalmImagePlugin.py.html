<html>
<head>
<title>PalmImagePlugin.py</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">
.s0 { color: #808080;}
.s1 { color: #a9b7c6;}
.s2 { color: #cc7832;}
.s3 { color: #6897bb;}
.s4 { color: #6a8759;}
</style>
</head>
<body bgcolor="#2b2b2b">
<table CELLSPACING=0 CELLPADDING=5 COLS=1 WIDTH="100%" BGCOLOR="#606060" >
<tr><td><center>
<font face="Arial, Helvetica" color="#000000">
PalmImagePlugin.py</font>
</center></td></tr></table>
<pre><span class="s0">#</span>
<span class="s0"># The Python Imaging Library.</span>
<span class="s0"># $Id$</span>
<span class="s0">#</span>

<span class="s0">##</span>
<span class="s0"># Image plugin for Palm pixmap images (output only).</span>
<span class="s0">##</span>

<span class="s2">from </span><span class="s1">. </span><span class="s2">import </span><span class="s1">Image</span><span class="s2">, </span><span class="s1">ImageFile</span>
<span class="s2">from </span><span class="s1">._binary </span><span class="s2">import </span><span class="s1">o8</span>
<span class="s2">from </span><span class="s1">._binary </span><span class="s2">import </span><span class="s1">o16be </span><span class="s2">as </span><span class="s1">o16b</span>

<span class="s0"># fmt: off</span>
<span class="s1">_Palm8BitColormapValues = (</span>
    <span class="s1">(</span><span class="s3">255</span><span class="s2">, </span><span class="s3">255</span><span class="s2">, </span><span class="s3">255</span><span class="s1">)</span><span class="s2">, </span><span class="s1">(</span><span class="s3">255</span><span class="s2">, </span><span class="s3">204</span><span class="s2">, </span><span class="s3">255</span><span class="s1">)</span><span class="s2">, </span><span class="s1">(</span><span class="s3">255</span><span class="s2">, </span><span class="s3">153</span><span class="s2">, </span><span class="s3">255</span><span class="s1">)</span><span class="s2">, </span><span class="s1">(</span><span class="s3">255</span><span class="s2">, </span><span class="s3">102</span><span class="s2">, </span><span class="s3">255</span><span class="s1">)</span><span class="s2">,</span>
    <span class="s1">(</span><span class="s3">255</span><span class="s2">,  </span><span class="s3">51</span><span class="s2">, </span><span class="s3">255</span><span class="s1">)</span><span class="s2">, </span><span class="s1">(</span><span class="s3">255</span><span class="s2">,   </span><span class="s3">0</span><span class="s2">, </span><span class="s3">255</span><span class="s1">)</span><span class="s2">, </span><span class="s1">(</span><span class="s3">255</span><span class="s2">, </span><span class="s3">255</span><span class="s2">, </span><span class="s3">204</span><span class="s1">)</span><span class="s2">, </span><span class="s1">(</span><span class="s3">255</span><span class="s2">, </span><span class="s3">204</span><span class="s2">, </span><span class="s3">204</span><span class="s1">)</span><span class="s2">,</span>
    <span class="s1">(</span><span class="s3">255</span><span class="s2">, </span><span class="s3">153</span><span class="s2">, </span><span class="s3">204</span><span class="s1">)</span><span class="s2">, </span><span class="s1">(</span><span class="s3">255</span><span class="s2">, </span><span class="s3">102</span><span class="s2">, </span><span class="s3">204</span><span class="s1">)</span><span class="s2">, </span><span class="s1">(</span><span class="s3">255</span><span class="s2">,  </span><span class="s3">51</span><span class="s2">, </span><span class="s3">204</span><span class="s1">)</span><span class="s2">, </span><span class="s1">(</span><span class="s3">255</span><span class="s2">,   </span><span class="s3">0</span><span class="s2">, </span><span class="s3">204</span><span class="s1">)</span><span class="s2">,</span>
    <span class="s1">(</span><span class="s3">255</span><span class="s2">, </span><span class="s3">255</span><span class="s2">, </span><span class="s3">153</span><span class="s1">)</span><span class="s2">, </span><span class="s1">(</span><span class="s3">255</span><span class="s2">, </span><span class="s3">204</span><span class="s2">, </span><span class="s3">153</span><span class="s1">)</span><span class="s2">, </span><span class="s1">(</span><span class="s3">255</span><span class="s2">, </span><span class="s3">153</span><span class="s2">, </span><span class="s3">153</span><span class="s1">)</span><span class="s2">, </span><span class="s1">(</span><span class="s3">255</span><span class="s2">, </span><span class="s3">102</span><span class="s2">, </span><span class="s3">153</span><span class="s1">)</span><span class="s2">,</span>
    <span class="s1">(</span><span class="s3">255</span><span class="s2">,  </span><span class="s3">51</span><span class="s2">, </span><span class="s3">153</span><span class="s1">)</span><span class="s2">, </span><span class="s1">(</span><span class="s3">255</span><span class="s2">,   </span><span class="s3">0</span><span class="s2">, </span><span class="s3">153</span><span class="s1">)</span><span class="s2">, </span><span class="s1">(</span><span class="s3">204</span><span class="s2">, </span><span class="s3">255</span><span class="s2">, </span><span class="s3">255</span><span class="s1">)</span><span class="s2">, </span><span class="s1">(</span><span class="s3">204</span><span class="s2">, </span><span class="s3">204</span><span class="s2">, </span><span class="s3">255</span><span class="s1">)</span><span class="s2">,</span>
    <span class="s1">(</span><span class="s3">204</span><span class="s2">, </span><span class="s3">153</span><span class="s2">, </span><span class="s3">255</span><span class="s1">)</span><span class="s2">, </span><span class="s1">(</span><span class="s3">204</span><span class="s2">, </span><span class="s3">102</span><span class="s2">, </span><span class="s3">255</span><span class="s1">)</span><span class="s2">, </span><span class="s1">(</span><span class="s3">204</span><span class="s2">,  </span><span class="s3">51</span><span class="s2">, </span><span class="s3">255</span><span class="s1">)</span><span class="s2">, </span><span class="s1">(</span><span class="s3">204</span><span class="s2">,   </span><span class="s3">0</span><span class="s2">, </span><span class="s3">255</span><span class="s1">)</span><span class="s2">,</span>
    <span class="s1">(</span><span class="s3">204</span><span class="s2">, </span><span class="s3">255</span><span class="s2">, </span><span class="s3">204</span><span class="s1">)</span><span class="s2">, </span><span class="s1">(</span><span class="s3">204</span><span class="s2">, </span><span class="s3">204</span><span class="s2">, </span><span class="s3">204</span><span class="s1">)</span><span class="s2">, </span><span class="s1">(</span><span class="s3">204</span><span class="s2">, </span><span class="s3">153</span><span class="s2">, </span><span class="s3">204</span><span class="s1">)</span><span class="s2">, </span><span class="s1">(</span><span class="s3">204</span><span class="s2">, </span><span class="s3">102</span><span class="s2">, </span><span class="s3">204</span><span class="s1">)</span><span class="s2">,</span>
    <span class="s1">(</span><span class="s3">204</span><span class="s2">,  </span><span class="s3">51</span><span class="s2">, </span><span class="s3">204</span><span class="s1">)</span><span class="s2">, </span><span class="s1">(</span><span class="s3">204</span><span class="s2">,   </span><span class="s3">0</span><span class="s2">, </span><span class="s3">204</span><span class="s1">)</span><span class="s2">, </span><span class="s1">(</span><span class="s3">204</span><span class="s2">, </span><span class="s3">255</span><span class="s2">, </span><span class="s3">153</span><span class="s1">)</span><span class="s2">, </span><span class="s1">(</span><span class="s3">204</span><span class="s2">, </span><span class="s3">204</span><span class="s2">, </span><span class="s3">153</span><span class="s1">)</span><span class="s2">,</span>
    <span class="s1">(</span><span class="s3">204</span><span class="s2">, </span><span class="s3">153</span><span class="s2">, </span><span class="s3">153</span><span class="s1">)</span><span class="s2">, </span><span class="s1">(</span><span class="s3">204</span><span class="s2">, </span><span class="s3">102</span><span class="s2">, </span><span class="s3">153</span><span class="s1">)</span><span class="s2">, </span><span class="s1">(</span><span class="s3">204</span><span class="s2">,  </span><span class="s3">51</span><span class="s2">, </span><span class="s3">153</span><span class="s1">)</span><span class="s2">, </span><span class="s1">(</span><span class="s3">204</span><span class="s2">,   </span><span class="s3">0</span><span class="s2">, </span><span class="s3">153</span><span class="s1">)</span><span class="s2">,</span>
    <span class="s1">(</span><span class="s3">153</span><span class="s2">, </span><span class="s3">255</span><span class="s2">, </span><span class="s3">255</span><span class="s1">)</span><span class="s2">, </span><span class="s1">(</span><span class="s3">153</span><span class="s2">, </span><span class="s3">204</span><span class="s2">, </span><span class="s3">255</span><span class="s1">)</span><span class="s2">, </span><span class="s1">(</span><span class="s3">153</span><span class="s2">, </span><span class="s3">153</span><span class="s2">, </span><span class="s3">255</span><span class="s1">)</span><span class="s2">, </span><span class="s1">(</span><span class="s3">153</span><span class="s2">, </span><span class="s3">102</span><span class="s2">, </span><span class="s3">255</span><span class="s1">)</span><span class="s2">,</span>
    <span class="s1">(</span><span class="s3">153</span><span class="s2">,  </span><span class="s3">51</span><span class="s2">, </span><span class="s3">255</span><span class="s1">)</span><span class="s2">, </span><span class="s1">(</span><span class="s3">153</span><span class="s2">,   </span><span class="s3">0</span><span class="s2">, </span><span class="s3">255</span><span class="s1">)</span><span class="s2">, </span><span class="s1">(</span><span class="s3">153</span><span class="s2">, </span><span class="s3">255</span><span class="s2">, </span><span class="s3">204</span><span class="s1">)</span><span class="s2">, </span><span class="s1">(</span><span class="s3">153</span><span class="s2">, </span><span class="s3">204</span><span class="s2">, </span><span class="s3">204</span><span class="s1">)</span><span class="s2">,</span>
    <span class="s1">(</span><span class="s3">153</span><span class="s2">, </span><span class="s3">153</span><span class="s2">, </span><span class="s3">204</span><span class="s1">)</span><span class="s2">, </span><span class="s1">(</span><span class="s3">153</span><span class="s2">, </span><span class="s3">102</span><span class="s2">, </span><span class="s3">204</span><span class="s1">)</span><span class="s2">, </span><span class="s1">(</span><span class="s3">153</span><span class="s2">,  </span><span class="s3">51</span><span class="s2">, </span><span class="s3">204</span><span class="s1">)</span><span class="s2">, </span><span class="s1">(</span><span class="s3">153</span><span class="s2">,   </span><span class="s3">0</span><span class="s2">, </span><span class="s3">204</span><span class="s1">)</span><span class="s2">,</span>
    <span class="s1">(</span><span class="s3">153</span><span class="s2">, </span><span class="s3">255</span><span class="s2">, </span><span class="s3">153</span><span class="s1">)</span><span class="s2">, </span><span class="s1">(</span><span class="s3">153</span><span class="s2">, </span><span class="s3">204</span><span class="s2">, </span><span class="s3">153</span><span class="s1">)</span><span class="s2">, </span><span class="s1">(</span><span class="s3">153</span><span class="s2">, </span><span class="s3">153</span><span class="s2">, </span><span class="s3">153</span><span class="s1">)</span><span class="s2">, </span><span class="s1">(</span><span class="s3">153</span><span class="s2">, </span><span class="s3">102</span><span class="s2">, </span><span class="s3">153</span><span class="s1">)</span><span class="s2">,</span>
    <span class="s1">(</span><span class="s3">153</span><span class="s2">,  </span><span class="s3">51</span><span class="s2">, </span><span class="s3">153</span><span class="s1">)</span><span class="s2">, </span><span class="s1">(</span><span class="s3">153</span><span class="s2">,   </span><span class="s3">0</span><span class="s2">, </span><span class="s3">153</span><span class="s1">)</span><span class="s2">, </span><span class="s1">(</span><span class="s3">102</span><span class="s2">, </span><span class="s3">255</span><span class="s2">, </span><span class="s3">255</span><span class="s1">)</span><span class="s2">, </span><span class="s1">(</span><span class="s3">102</span><span class="s2">, </span><span class="s3">204</span><span class="s2">, </span><span class="s3">255</span><span class="s1">)</span><span class="s2">,</span>
    <span class="s1">(</span><span class="s3">102</span><span class="s2">, </span><span class="s3">153</span><span class="s2">, </span><span class="s3">255</span><span class="s1">)</span><span class="s2">, </span><span class="s1">(</span><span class="s3">102</span><span class="s2">, </span><span class="s3">102</span><span class="s2">, </span><span class="s3">255</span><span class="s1">)</span><span class="s2">, </span><span class="s1">(</span><span class="s3">102</span><span class="s2">,  </span><span class="s3">51</span><span class="s2">, </span><span class="s3">255</span><span class="s1">)</span><span class="s2">, </span><span class="s1">(</span><span class="s3">102</span><span class="s2">,   </span><span class="s3">0</span><span class="s2">, </span><span class="s3">255</span><span class="s1">)</span><span class="s2">,</span>
    <span class="s1">(</span><span class="s3">102</span><span class="s2">, </span><span class="s3">255</span><span class="s2">, </span><span class="s3">204</span><span class="s1">)</span><span class="s2">, </span><span class="s1">(</span><span class="s3">102</span><span class="s2">, </span><span class="s3">204</span><span class="s2">, </span><span class="s3">204</span><span class="s1">)</span><span class="s2">, </span><span class="s1">(</span><span class="s3">102</span><span class="s2">, </span><span class="s3">153</span><span class="s2">, </span><span class="s3">204</span><span class="s1">)</span><span class="s2">, </span><span class="s1">(</span><span class="s3">102</span><span class="s2">, </span><span class="s3">102</span><span class="s2">, </span><span class="s3">204</span><span class="s1">)</span><span class="s2">,</span>
    <span class="s1">(</span><span class="s3">102</span><span class="s2">,  </span><span class="s3">51</span><span class="s2">, </span><span class="s3">204</span><span class="s1">)</span><span class="s2">, </span><span class="s1">(</span><span class="s3">102</span><span class="s2">,   </span><span class="s3">0</span><span class="s2">, </span><span class="s3">204</span><span class="s1">)</span><span class="s2">, </span><span class="s1">(</span><span class="s3">102</span><span class="s2">, </span><span class="s3">255</span><span class="s2">, </span><span class="s3">153</span><span class="s1">)</span><span class="s2">, </span><span class="s1">(</span><span class="s3">102</span><span class="s2">, </span><span class="s3">204</span><span class="s2">, </span><span class="s3">153</span><span class="s1">)</span><span class="s2">,</span>
    <span class="s1">(</span><span class="s3">102</span><span class="s2">, </span><span class="s3">153</span><span class="s2">, </span><span class="s3">153</span><span class="s1">)</span><span class="s2">, </span><span class="s1">(</span><span class="s3">102</span><span class="s2">, </span><span class="s3">102</span><span class="s2">, </span><span class="s3">153</span><span class="s1">)</span><span class="s2">, </span><span class="s1">(</span><span class="s3">102</span><span class="s2">,  </span><span class="s3">51</span><span class="s2">, </span><span class="s3">153</span><span class="s1">)</span><span class="s2">, </span><span class="s1">(</span><span class="s3">102</span><span class="s2">,   </span><span class="s3">0</span><span class="s2">, </span><span class="s3">153</span><span class="s1">)</span><span class="s2">,</span>
    <span class="s1">(</span><span class="s3">51</span><span class="s2">,  </span><span class="s3">255</span><span class="s2">, </span><span class="s3">255</span><span class="s1">)</span><span class="s2">, </span><span class="s1">(</span><span class="s3">51</span><span class="s2">,  </span><span class="s3">204</span><span class="s2">, </span><span class="s3">255</span><span class="s1">)</span><span class="s2">, </span><span class="s1">(</span><span class="s3">51</span><span class="s2">,  </span><span class="s3">153</span><span class="s2">, </span><span class="s3">255</span><span class="s1">)</span><span class="s2">, </span><span class="s1">(</span><span class="s3">51</span><span class="s2">,  </span><span class="s3">102</span><span class="s2">, </span><span class="s3">255</span><span class="s1">)</span><span class="s2">,</span>
    <span class="s1">(</span><span class="s3">51</span><span class="s2">,   </span><span class="s3">51</span><span class="s2">, </span><span class="s3">255</span><span class="s1">)</span><span class="s2">, </span><span class="s1">(</span><span class="s3">51</span><span class="s2">,    </span><span class="s3">0</span><span class="s2">, </span><span class="s3">255</span><span class="s1">)</span><span class="s2">, </span><span class="s1">(</span><span class="s3">51</span><span class="s2">,  </span><span class="s3">255</span><span class="s2">, </span><span class="s3">204</span><span class="s1">)</span><span class="s2">, </span><span class="s1">(</span><span class="s3">51</span><span class="s2">,  </span><span class="s3">204</span><span class="s2">, </span><span class="s3">204</span><span class="s1">)</span><span class="s2">,</span>
    <span class="s1">(</span><span class="s3">51</span><span class="s2">,  </span><span class="s3">153</span><span class="s2">, </span><span class="s3">204</span><span class="s1">)</span><span class="s2">, </span><span class="s1">(</span><span class="s3">51</span><span class="s2">,  </span><span class="s3">102</span><span class="s2">, </span><span class="s3">204</span><span class="s1">)</span><span class="s2">, </span><span class="s1">(</span><span class="s3">51</span><span class="s2">,   </span><span class="s3">51</span><span class="s2">, </span><span class="s3">204</span><span class="s1">)</span><span class="s2">, </span><span class="s1">(</span><span class="s3">51</span><span class="s2">,    </span><span class="s3">0</span><span class="s2">, </span><span class="s3">204</span><span class="s1">)</span><span class="s2">,</span>
    <span class="s1">(</span><span class="s3">51</span><span class="s2">,  </span><span class="s3">255</span><span class="s2">, </span><span class="s3">153</span><span class="s1">)</span><span class="s2">, </span><span class="s1">(</span><span class="s3">51</span><span class="s2">,  </span><span class="s3">204</span><span class="s2">, </span><span class="s3">153</span><span class="s1">)</span><span class="s2">, </span><span class="s1">(</span><span class="s3">51</span><span class="s2">,  </span><span class="s3">153</span><span class="s2">, </span><span class="s3">153</span><span class="s1">)</span><span class="s2">, </span><span class="s1">(</span><span class="s3">51</span><span class="s2">,  </span><span class="s3">102</span><span class="s2">, </span><span class="s3">153</span><span class="s1">)</span><span class="s2">,</span>
    <span class="s1">(</span><span class="s3">51</span><span class="s2">,   </span><span class="s3">51</span><span class="s2">, </span><span class="s3">153</span><span class="s1">)</span><span class="s2">, </span><span class="s1">(</span><span class="s3">51</span><span class="s2">,    </span><span class="s3">0</span><span class="s2">, </span><span class="s3">153</span><span class="s1">)</span><span class="s2">, </span><span class="s1">(</span><span class="s3">0</span><span class="s2">,   </span><span class="s3">255</span><span class="s2">, </span><span class="s3">255</span><span class="s1">)</span><span class="s2">, </span><span class="s1">(</span><span class="s3">0</span><span class="s2">,   </span><span class="s3">204</span><span class="s2">, </span><span class="s3">255</span><span class="s1">)</span><span class="s2">,</span>
    <span class="s1">(</span><span class="s3">0</span><span class="s2">,   </span><span class="s3">153</span><span class="s2">, </span><span class="s3">255</span><span class="s1">)</span><span class="s2">, </span><span class="s1">(</span><span class="s3">0</span><span class="s2">,   </span><span class="s3">102</span><span class="s2">, </span><span class="s3">255</span><span class="s1">)</span><span class="s2">, </span><span class="s1">(</span><span class="s3">0</span><span class="s2">,    </span><span class="s3">51</span><span class="s2">, </span><span class="s3">255</span><span class="s1">)</span><span class="s2">, </span><span class="s1">(</span><span class="s3">0</span><span class="s2">,     </span><span class="s3">0</span><span class="s2">, </span><span class="s3">255</span><span class="s1">)</span><span class="s2">,</span>
    <span class="s1">(</span><span class="s3">0</span><span class="s2">,   </span><span class="s3">255</span><span class="s2">, </span><span class="s3">204</span><span class="s1">)</span><span class="s2">, </span><span class="s1">(</span><span class="s3">0</span><span class="s2">,   </span><span class="s3">204</span><span class="s2">, </span><span class="s3">204</span><span class="s1">)</span><span class="s2">, </span><span class="s1">(</span><span class="s3">0</span><span class="s2">,   </span><span class="s3">153</span><span class="s2">, </span><span class="s3">204</span><span class="s1">)</span><span class="s2">, </span><span class="s1">(</span><span class="s3">0</span><span class="s2">,   </span><span class="s3">102</span><span class="s2">, </span><span class="s3">204</span><span class="s1">)</span><span class="s2">,</span>
    <span class="s1">(</span><span class="s3">0</span><span class="s2">,    </span><span class="s3">51</span><span class="s2">, </span><span class="s3">204</span><span class="s1">)</span><span class="s2">, </span><span class="s1">(</span><span class="s3">0</span><span class="s2">,     </span><span class="s3">0</span><span class="s2">, </span><span class="s3">204</span><span class="s1">)</span><span class="s2">, </span><span class="s1">(</span><span class="s3">0</span><span class="s2">,   </span><span class="s3">255</span><span class="s2">, </span><span class="s3">153</span><span class="s1">)</span><span class="s2">, </span><span class="s1">(</span><span class="s3">0</span><span class="s2">,   </span><span class="s3">204</span><span class="s2">, </span><span class="s3">153</span><span class="s1">)</span><span class="s2">,</span>
    <span class="s1">(</span><span class="s3">0</span><span class="s2">,   </span><span class="s3">153</span><span class="s2">, </span><span class="s3">153</span><span class="s1">)</span><span class="s2">, </span><span class="s1">(</span><span class="s3">0</span><span class="s2">,   </span><span class="s3">102</span><span class="s2">, </span><span class="s3">153</span><span class="s1">)</span><span class="s2">, </span><span class="s1">(</span><span class="s3">0</span><span class="s2">,    </span><span class="s3">51</span><span class="s2">, </span><span class="s3">153</span><span class="s1">)</span><span class="s2">, </span><span class="s1">(</span><span class="s3">0</span><span class="s2">,     </span><span class="s3">0</span><span class="s2">, </span><span class="s3">153</span><span class="s1">)</span><span class="s2">,</span>
    <span class="s1">(</span><span class="s3">255</span><span class="s2">, </span><span class="s3">255</span><span class="s2">, </span><span class="s3">102</span><span class="s1">)</span><span class="s2">, </span><span class="s1">(</span><span class="s3">255</span><span class="s2">, </span><span class="s3">204</span><span class="s2">, </span><span class="s3">102</span><span class="s1">)</span><span class="s2">, </span><span class="s1">(</span><span class="s3">255</span><span class="s2">, </span><span class="s3">153</span><span class="s2">, </span><span class="s3">102</span><span class="s1">)</span><span class="s2">, </span><span class="s1">(</span><span class="s3">255</span><span class="s2">, </span><span class="s3">102</span><span class="s2">, </span><span class="s3">102</span><span class="s1">)</span><span class="s2">,</span>
    <span class="s1">(</span><span class="s3">255</span><span class="s2">,  </span><span class="s3">51</span><span class="s2">, </span><span class="s3">102</span><span class="s1">)</span><span class="s2">, </span><span class="s1">(</span><span class="s3">255</span><span class="s2">,   </span><span class="s3">0</span><span class="s2">, </span><span class="s3">102</span><span class="s1">)</span><span class="s2">, </span><span class="s1">(</span><span class="s3">255</span><span class="s2">, </span><span class="s3">255</span><span class="s2">,  </span><span class="s3">51</span><span class="s1">)</span><span class="s2">, </span><span class="s1">(</span><span class="s3">255</span><span class="s2">, </span><span class="s3">204</span><span class="s2">,  </span><span class="s3">51</span><span class="s1">)</span><span class="s2">,</span>
    <span class="s1">(</span><span class="s3">255</span><span class="s2">, </span><span class="s3">153</span><span class="s2">,  </span><span class="s3">51</span><span class="s1">)</span><span class="s2">, </span><span class="s1">(</span><span class="s3">255</span><span class="s2">, </span><span class="s3">102</span><span class="s2">,  </span><span class="s3">51</span><span class="s1">)</span><span class="s2">, </span><span class="s1">(</span><span class="s3">255</span><span class="s2">,  </span><span class="s3">51</span><span class="s2">,  </span><span class="s3">51</span><span class="s1">)</span><span class="s2">, </span><span class="s1">(</span><span class="s3">255</span><span class="s2">,   </span><span class="s3">0</span><span class="s2">,  </span><span class="s3">51</span><span class="s1">)</span><span class="s2">,</span>
    <span class="s1">(</span><span class="s3">255</span><span class="s2">, </span><span class="s3">255</span><span class="s2">,   </span><span class="s3">0</span><span class="s1">)</span><span class="s2">, </span><span class="s1">(</span><span class="s3">255</span><span class="s2">, </span><span class="s3">204</span><span class="s2">,   </span><span class="s3">0</span><span class="s1">)</span><span class="s2">, </span><span class="s1">(</span><span class="s3">255</span><span class="s2">, </span><span class="s3">153</span><span class="s2">,   </span><span class="s3">0</span><span class="s1">)</span><span class="s2">, </span><span class="s1">(</span><span class="s3">255</span><span class="s2">, </span><span class="s3">102</span><span class="s2">,   </span><span class="s3">0</span><span class="s1">)</span><span class="s2">,</span>
    <span class="s1">(</span><span class="s3">255</span><span class="s2">,  </span><span class="s3">51</span><span class="s2">,   </span><span class="s3">0</span><span class="s1">)</span><span class="s2">, </span><span class="s1">(</span><span class="s3">255</span><span class="s2">,   </span><span class="s3">0</span><span class="s2">,   </span><span class="s3">0</span><span class="s1">)</span><span class="s2">, </span><span class="s1">(</span><span class="s3">204</span><span class="s2">, </span><span class="s3">255</span><span class="s2">, </span><span class="s3">102</span><span class="s1">)</span><span class="s2">, </span><span class="s1">(</span><span class="s3">204</span><span class="s2">, </span><span class="s3">204</span><span class="s2">, </span><span class="s3">102</span><span class="s1">)</span><span class="s2">,</span>
    <span class="s1">(</span><span class="s3">204</span><span class="s2">, </span><span class="s3">153</span><span class="s2">, </span><span class="s3">102</span><span class="s1">)</span><span class="s2">, </span><span class="s1">(</span><span class="s3">204</span><span class="s2">, </span><span class="s3">102</span><span class="s2">, </span><span class="s3">102</span><span class="s1">)</span><span class="s2">, </span><span class="s1">(</span><span class="s3">204</span><span class="s2">,  </span><span class="s3">51</span><span class="s2">, </span><span class="s3">102</span><span class="s1">)</span><span class="s2">, </span><span class="s1">(</span><span class="s3">204</span><span class="s2">,   </span><span class="s3">0</span><span class="s2">, </span><span class="s3">102</span><span class="s1">)</span><span class="s2">,</span>
    <span class="s1">(</span><span class="s3">204</span><span class="s2">, </span><span class="s3">255</span><span class="s2">,  </span><span class="s3">51</span><span class="s1">)</span><span class="s2">, </span><span class="s1">(</span><span class="s3">204</span><span class="s2">, </span><span class="s3">204</span><span class="s2">,  </span><span class="s3">51</span><span class="s1">)</span><span class="s2">, </span><span class="s1">(</span><span class="s3">204</span><span class="s2">, </span><span class="s3">153</span><span class="s2">,  </span><span class="s3">51</span><span class="s1">)</span><span class="s2">, </span><span class="s1">(</span><span class="s3">204</span><span class="s2">, </span><span class="s3">102</span><span class="s2">,  </span><span class="s3">51</span><span class="s1">)</span><span class="s2">,</span>
    <span class="s1">(</span><span class="s3">204</span><span class="s2">,  </span><span class="s3">51</span><span class="s2">,  </span><span class="s3">51</span><span class="s1">)</span><span class="s2">, </span><span class="s1">(</span><span class="s3">204</span><span class="s2">,   </span><span class="s3">0</span><span class="s2">,  </span><span class="s3">51</span><span class="s1">)</span><span class="s2">, </span><span class="s1">(</span><span class="s3">204</span><span class="s2">, </span><span class="s3">255</span><span class="s2">,   </span><span class="s3">0</span><span class="s1">)</span><span class="s2">, </span><span class="s1">(</span><span class="s3">204</span><span class="s2">, </span><span class="s3">204</span><span class="s2">,   </span><span class="s3">0</span><span class="s1">)</span><span class="s2">,</span>
    <span class="s1">(</span><span class="s3">204</span><span class="s2">, </span><span class="s3">153</span><span class="s2">,   </span><span class="s3">0</span><span class="s1">)</span><span class="s2">, </span><span class="s1">(</span><span class="s3">204</span><span class="s2">, </span><span class="s3">102</span><span class="s2">,   </span><span class="s3">0</span><span class="s1">)</span><span class="s2">, </span><span class="s1">(</span><span class="s3">204</span><span class="s2">,  </span><span class="s3">51</span><span class="s2">,   </span><span class="s3">0</span><span class="s1">)</span><span class="s2">, </span><span class="s1">(</span><span class="s3">204</span><span class="s2">,   </span><span class="s3">0</span><span class="s2">,   </span><span class="s3">0</span><span class="s1">)</span><span class="s2">,</span>
    <span class="s1">(</span><span class="s3">153</span><span class="s2">, </span><span class="s3">255</span><span class="s2">, </span><span class="s3">102</span><span class="s1">)</span><span class="s2">, </span><span class="s1">(</span><span class="s3">153</span><span class="s2">, </span><span class="s3">204</span><span class="s2">, </span><span class="s3">102</span><span class="s1">)</span><span class="s2">, </span><span class="s1">(</span><span class="s3">153</span><span class="s2">, </span><span class="s3">153</span><span class="s2">, </span><span class="s3">102</span><span class="s1">)</span><span class="s2">, </span><span class="s1">(</span><span class="s3">153</span><span class="s2">, </span><span class="s3">102</span><span class="s2">, </span><span class="s3">102</span><span class="s1">)</span><span class="s2">,</span>
    <span class="s1">(</span><span class="s3">153</span><span class="s2">,  </span><span class="s3">51</span><span class="s2">, </span><span class="s3">102</span><span class="s1">)</span><span class="s2">, </span><span class="s1">(</span><span class="s3">153</span><span class="s2">,   </span><span class="s3">0</span><span class="s2">, </span><span class="s3">102</span><span class="s1">)</span><span class="s2">, </span><span class="s1">(</span><span class="s3">153</span><span class="s2">, </span><span class="s3">255</span><span class="s2">,  </span><span class="s3">51</span><span class="s1">)</span><span class="s2">, </span><span class="s1">(</span><span class="s3">153</span><span class="s2">, </span><span class="s3">204</span><span class="s2">,  </span><span class="s3">51</span><span class="s1">)</span><span class="s2">,</span>
    <span class="s1">(</span><span class="s3">153</span><span class="s2">, </span><span class="s3">153</span><span class="s2">,  </span><span class="s3">51</span><span class="s1">)</span><span class="s2">, </span><span class="s1">(</span><span class="s3">153</span><span class="s2">, </span><span class="s3">102</span><span class="s2">,  </span><span class="s3">51</span><span class="s1">)</span><span class="s2">, </span><span class="s1">(</span><span class="s3">153</span><span class="s2">,  </span><span class="s3">51</span><span class="s2">,  </span><span class="s3">51</span><span class="s1">)</span><span class="s2">, </span><span class="s1">(</span><span class="s3">153</span><span class="s2">,   </span><span class="s3">0</span><span class="s2">,  </span><span class="s3">51</span><span class="s1">)</span><span class="s2">,</span>
    <span class="s1">(</span><span class="s3">153</span><span class="s2">, </span><span class="s3">255</span><span class="s2">,   </span><span class="s3">0</span><span class="s1">)</span><span class="s2">, </span><span class="s1">(</span><span class="s3">153</span><span class="s2">, </span><span class="s3">204</span><span class="s2">,   </span><span class="s3">0</span><span class="s1">)</span><span class="s2">, </span><span class="s1">(</span><span class="s3">153</span><span class="s2">, </span><span class="s3">153</span><span class="s2">,   </span><span class="s3">0</span><span class="s1">)</span><span class="s2">, </span><span class="s1">(</span><span class="s3">153</span><span class="s2">, </span><span class="s3">102</span><span class="s2">,   </span><span class="s3">0</span><span class="s1">)</span><span class="s2">,</span>
    <span class="s1">(</span><span class="s3">153</span><span class="s2">,  </span><span class="s3">51</span><span class="s2">,   </span><span class="s3">0</span><span class="s1">)</span><span class="s2">, </span><span class="s1">(</span><span class="s3">153</span><span class="s2">,   </span><span class="s3">0</span><span class="s2">,   </span><span class="s3">0</span><span class="s1">)</span><span class="s2">, </span><span class="s1">(</span><span class="s3">102</span><span class="s2">, </span><span class="s3">255</span><span class="s2">, </span><span class="s3">102</span><span class="s1">)</span><span class="s2">, </span><span class="s1">(</span><span class="s3">102</span><span class="s2">, </span><span class="s3">204</span><span class="s2">, </span><span class="s3">102</span><span class="s1">)</span><span class="s2">,</span>
    <span class="s1">(</span><span class="s3">102</span><span class="s2">, </span><span class="s3">153</span><span class="s2">, </span><span class="s3">102</span><span class="s1">)</span><span class="s2">, </span><span class="s1">(</span><span class="s3">102</span><span class="s2">, </span><span class="s3">102</span><span class="s2">, </span><span class="s3">102</span><span class="s1">)</span><span class="s2">, </span><span class="s1">(</span><span class="s3">102</span><span class="s2">,  </span><span class="s3">51</span><span class="s2">, </span><span class="s3">102</span><span class="s1">)</span><span class="s2">, </span><span class="s1">(</span><span class="s3">102</span><span class="s2">,   </span><span class="s3">0</span><span class="s2">, </span><span class="s3">102</span><span class="s1">)</span><span class="s2">,</span>
    <span class="s1">(</span><span class="s3">102</span><span class="s2">, </span><span class="s3">255</span><span class="s2">,  </span><span class="s3">51</span><span class="s1">)</span><span class="s2">, </span><span class="s1">(</span><span class="s3">102</span><span class="s2">, </span><span class="s3">204</span><span class="s2">,  </span><span class="s3">51</span><span class="s1">)</span><span class="s2">, </span><span class="s1">(</span><span class="s3">102</span><span class="s2">, </span><span class="s3">153</span><span class="s2">,  </span><span class="s3">51</span><span class="s1">)</span><span class="s2">, </span><span class="s1">(</span><span class="s3">102</span><span class="s2">, </span><span class="s3">102</span><span class="s2">,  </span><span class="s3">51</span><span class="s1">)</span><span class="s2">,</span>
    <span class="s1">(</span><span class="s3">102</span><span class="s2">,  </span><span class="s3">51</span><span class="s2">,  </span><span class="s3">51</span><span class="s1">)</span><span class="s2">, </span><span class="s1">(</span><span class="s3">102</span><span class="s2">,   </span><span class="s3">0</span><span class="s2">,  </span><span class="s3">51</span><span class="s1">)</span><span class="s2">, </span><span class="s1">(</span><span class="s3">102</span><span class="s2">, </span><span class="s3">255</span><span class="s2">,   </span><span class="s3">0</span><span class="s1">)</span><span class="s2">, </span><span class="s1">(</span><span class="s3">102</span><span class="s2">, </span><span class="s3">204</span><span class="s2">,   </span><span class="s3">0</span><span class="s1">)</span><span class="s2">,</span>
    <span class="s1">(</span><span class="s3">102</span><span class="s2">, </span><span class="s3">153</span><span class="s2">,   </span><span class="s3">0</span><span class="s1">)</span><span class="s2">, </span><span class="s1">(</span><span class="s3">102</span><span class="s2">, </span><span class="s3">102</span><span class="s2">,   </span><span class="s3">0</span><span class="s1">)</span><span class="s2">, </span><span class="s1">(</span><span class="s3">102</span><span class="s2">,  </span><span class="s3">51</span><span class="s2">,   </span><span class="s3">0</span><span class="s1">)</span><span class="s2">, </span><span class="s1">(</span><span class="s3">102</span><span class="s2">,   </span><span class="s3">0</span><span class="s2">,   </span><span class="s3">0</span><span class="s1">)</span><span class="s2">,</span>
    <span class="s1">(</span><span class="s3">51</span><span class="s2">,  </span><span class="s3">255</span><span class="s2">, </span><span class="s3">102</span><span class="s1">)</span><span class="s2">, </span><span class="s1">(</span><span class="s3">51</span><span class="s2">,  </span><span class="s3">204</span><span class="s2">, </span><span class="s3">102</span><span class="s1">)</span><span class="s2">, </span><span class="s1">(</span><span class="s3">51</span><span class="s2">,  </span><span class="s3">153</span><span class="s2">, </span><span class="s3">102</span><span class="s1">)</span><span class="s2">, </span><span class="s1">(</span><span class="s3">51</span><span class="s2">,  </span><span class="s3">102</span><span class="s2">, </span><span class="s3">102</span><span class="s1">)</span><span class="s2">,</span>
    <span class="s1">(</span><span class="s3">51</span><span class="s2">,   </span><span class="s3">51</span><span class="s2">, </span><span class="s3">102</span><span class="s1">)</span><span class="s2">, </span><span class="s1">(</span><span class="s3">51</span><span class="s2">,    </span><span class="s3">0</span><span class="s2">, </span><span class="s3">102</span><span class="s1">)</span><span class="s2">, </span><span class="s1">(</span><span class="s3">51</span><span class="s2">,  </span><span class="s3">255</span><span class="s2">,  </span><span class="s3">51</span><span class="s1">)</span><span class="s2">, </span><span class="s1">(</span><span class="s3">51</span><span class="s2">,  </span><span class="s3">204</span><span class="s2">,  </span><span class="s3">51</span><span class="s1">)</span><span class="s2">,</span>
    <span class="s1">(</span><span class="s3">51</span><span class="s2">,  </span><span class="s3">153</span><span class="s2">,  </span><span class="s3">51</span><span class="s1">)</span><span class="s2">, </span><span class="s1">(</span><span class="s3">51</span><span class="s2">,  </span><span class="s3">102</span><span class="s2">,  </span><span class="s3">51</span><span class="s1">)</span><span class="s2">, </span><span class="s1">(</span><span class="s3">51</span><span class="s2">,   </span><span class="s3">51</span><span class="s2">,  </span><span class="s3">51</span><span class="s1">)</span><span class="s2">, </span><span class="s1">(</span><span class="s3">51</span><span class="s2">,    </span><span class="s3">0</span><span class="s2">,  </span><span class="s3">51</span><span class="s1">)</span><span class="s2">,</span>
    <span class="s1">(</span><span class="s3">51</span><span class="s2">,  </span><span class="s3">255</span><span class="s2">,   </span><span class="s3">0</span><span class="s1">)</span><span class="s2">, </span><span class="s1">(</span><span class="s3">51</span><span class="s2">,  </span><span class="s3">204</span><span class="s2">,   </span><span class="s3">0</span><span class="s1">)</span><span class="s2">, </span><span class="s1">(</span><span class="s3">51</span><span class="s2">,  </span><span class="s3">153</span><span class="s2">,   </span><span class="s3">0</span><span class="s1">)</span><span class="s2">, </span><span class="s1">(</span><span class="s3">51</span><span class="s2">,  </span><span class="s3">102</span><span class="s2">,   </span><span class="s3">0</span><span class="s1">)</span><span class="s2">,</span>
    <span class="s1">(</span><span class="s3">51</span><span class="s2">,   </span><span class="s3">51</span><span class="s2">,   </span><span class="s3">0</span><span class="s1">)</span><span class="s2">, </span><span class="s1">(</span><span class="s3">51</span><span class="s2">,    </span><span class="s3">0</span><span class="s2">,   </span><span class="s3">0</span><span class="s1">)</span><span class="s2">, </span><span class="s1">(</span><span class="s3">0</span><span class="s2">,   </span><span class="s3">255</span><span class="s2">, </span><span class="s3">102</span><span class="s1">)</span><span class="s2">, </span><span class="s1">(</span><span class="s3">0</span><span class="s2">,   </span><span class="s3">204</span><span class="s2">, </span><span class="s3">102</span><span class="s1">)</span><span class="s2">,</span>
    <span class="s1">(</span><span class="s3">0</span><span class="s2">,   </span><span class="s3">153</span><span class="s2">, </span><span class="s3">102</span><span class="s1">)</span><span class="s2">, </span><span class="s1">(</span><span class="s3">0</span><span class="s2">,   </span><span class="s3">102</span><span class="s2">, </span><span class="s3">102</span><span class="s1">)</span><span class="s2">, </span><span class="s1">(</span><span class="s3">0</span><span class="s2">,    </span><span class="s3">51</span><span class="s2">, </span><span class="s3">102</span><span class="s1">)</span><span class="s2">, </span><span class="s1">(</span><span class="s3">0</span><span class="s2">,     </span><span class="s3">0</span><span class="s2">, </span><span class="s3">102</span><span class="s1">)</span><span class="s2">,</span>
    <span class="s1">(</span><span class="s3">0</span><span class="s2">,   </span><span class="s3">255</span><span class="s2">,  </span><span class="s3">51</span><span class="s1">)</span><span class="s2">, </span><span class="s1">(</span><span class="s3">0</span><span class="s2">,   </span><span class="s3">204</span><span class="s2">,  </span><span class="s3">51</span><span class="s1">)</span><span class="s2">, </span><span class="s1">(</span><span class="s3">0</span><span class="s2">,   </span><span class="s3">153</span><span class="s2">,  </span><span class="s3">51</span><span class="s1">)</span><span class="s2">, </span><span class="s1">(</span><span class="s3">0</span><span class="s2">,   </span><span class="s3">102</span><span class="s2">,  </span><span class="s3">51</span><span class="s1">)</span><span class="s2">,</span>
    <span class="s1">(</span><span class="s3">0</span><span class="s2">,    </span><span class="s3">51</span><span class="s2">,  </span><span class="s3">51</span><span class="s1">)</span><span class="s2">, </span><span class="s1">(</span><span class="s3">0</span><span class="s2">,     </span><span class="s3">0</span><span class="s2">,  </span><span class="s3">51</span><span class="s1">)</span><span class="s2">, </span><span class="s1">(</span><span class="s3">0</span><span class="s2">,   </span><span class="s3">255</span><span class="s2">,   </span><span class="s3">0</span><span class="s1">)</span><span class="s2">, </span><span class="s1">(</span><span class="s3">0</span><span class="s2">,   </span><span class="s3">204</span><span class="s2">,   </span><span class="s3">0</span><span class="s1">)</span><span class="s2">,</span>
    <span class="s1">(</span><span class="s3">0</span><span class="s2">,   </span><span class="s3">153</span><span class="s2">,   </span><span class="s3">0</span><span class="s1">)</span><span class="s2">, </span><span class="s1">(</span><span class="s3">0</span><span class="s2">,   </span><span class="s3">102</span><span class="s2">,   </span><span class="s3">0</span><span class="s1">)</span><span class="s2">, </span><span class="s1">(</span><span class="s3">0</span><span class="s2">,    </span><span class="s3">51</span><span class="s2">,   </span><span class="s3">0</span><span class="s1">)</span><span class="s2">, </span><span class="s1">(</span><span class="s3">17</span><span class="s2">,   </span><span class="s3">17</span><span class="s2">,  </span><span class="s3">17</span><span class="s1">)</span><span class="s2">,</span>
    <span class="s1">(</span><span class="s3">34</span><span class="s2">,   </span><span class="s3">34</span><span class="s2">,  </span><span class="s3">34</span><span class="s1">)</span><span class="s2">, </span><span class="s1">(</span><span class="s3">68</span><span class="s2">,   </span><span class="s3">68</span><span class="s2">,  </span><span class="s3">68</span><span class="s1">)</span><span class="s2">, </span><span class="s1">(</span><span class="s3">85</span><span class="s2">,   </span><span class="s3">85</span><span class="s2">,  </span><span class="s3">85</span><span class="s1">)</span><span class="s2">, </span><span class="s1">(</span><span class="s3">119</span><span class="s2">, </span><span class="s3">119</span><span class="s2">, </span><span class="s3">119</span><span class="s1">)</span><span class="s2">,</span>
    <span class="s1">(</span><span class="s3">136</span><span class="s2">, </span><span class="s3">136</span><span class="s2">, </span><span class="s3">136</span><span class="s1">)</span><span class="s2">, </span><span class="s1">(</span><span class="s3">170</span><span class="s2">, </span><span class="s3">170</span><span class="s2">, </span><span class="s3">170</span><span class="s1">)</span><span class="s2">, </span><span class="s1">(</span><span class="s3">187</span><span class="s2">, </span><span class="s3">187</span><span class="s2">, </span><span class="s3">187</span><span class="s1">)</span><span class="s2">, </span><span class="s1">(</span><span class="s3">221</span><span class="s2">, </span><span class="s3">221</span><span class="s2">, </span><span class="s3">221</span><span class="s1">)</span><span class="s2">,</span>
    <span class="s1">(</span><span class="s3">238</span><span class="s2">, </span><span class="s3">238</span><span class="s2">, </span><span class="s3">238</span><span class="s1">)</span><span class="s2">, </span><span class="s1">(</span><span class="s3">192</span><span class="s2">, </span><span class="s3">192</span><span class="s2">, </span><span class="s3">192</span><span class="s1">)</span><span class="s2">, </span><span class="s1">(</span><span class="s3">128</span><span class="s2">,   </span><span class="s3">0</span><span class="s2">,   </span><span class="s3">0</span><span class="s1">)</span><span class="s2">, </span><span class="s1">(</span><span class="s3">128</span><span class="s2">,   </span><span class="s3">0</span><span class="s2">, </span><span class="s3">128</span><span class="s1">)</span><span class="s2">,</span>
    <span class="s1">(</span><span class="s3">0</span><span class="s2">,   </span><span class="s3">128</span><span class="s2">,   </span><span class="s3">0</span><span class="s1">)</span><span class="s2">, </span><span class="s1">(</span><span class="s3">0</span><span class="s2">,   </span><span class="s3">128</span><span class="s2">, </span><span class="s3">128</span><span class="s1">)</span><span class="s2">, </span><span class="s1">(</span><span class="s3">0</span><span class="s2">,     </span><span class="s3">0</span><span class="s2">,   </span><span class="s3">0</span><span class="s1">)</span><span class="s2">, </span><span class="s1">(</span><span class="s3">0</span><span class="s2">,     </span><span class="s3">0</span><span class="s2">,   </span><span class="s3">0</span><span class="s1">)</span><span class="s2">,</span>
    <span class="s1">(</span><span class="s3">0</span><span class="s2">,     </span><span class="s3">0</span><span class="s2">,   </span><span class="s3">0</span><span class="s1">)</span><span class="s2">, </span><span class="s1">(</span><span class="s3">0</span><span class="s2">,     </span><span class="s3">0</span><span class="s2">,   </span><span class="s3">0</span><span class="s1">)</span><span class="s2">, </span><span class="s1">(</span><span class="s3">0</span><span class="s2">,     </span><span class="s3">0</span><span class="s2">,   </span><span class="s3">0</span><span class="s1">)</span><span class="s2">, </span><span class="s1">(</span><span class="s3">0</span><span class="s2">,     </span><span class="s3">0</span><span class="s2">,   </span><span class="s3">0</span><span class="s1">)</span><span class="s2">,</span>
    <span class="s1">(</span><span class="s3">0</span><span class="s2">,     </span><span class="s3">0</span><span class="s2">,   </span><span class="s3">0</span><span class="s1">)</span><span class="s2">, </span><span class="s1">(</span><span class="s3">0</span><span class="s2">,     </span><span class="s3">0</span><span class="s2">,   </span><span class="s3">0</span><span class="s1">)</span><span class="s2">, </span><span class="s1">(</span><span class="s3">0</span><span class="s2">,     </span><span class="s3">0</span><span class="s2">,   </span><span class="s3">0</span><span class="s1">)</span><span class="s2">, </span><span class="s1">(</span><span class="s3">0</span><span class="s2">,     </span><span class="s3">0</span><span class="s2">,   </span><span class="s3">0</span><span class="s1">)</span><span class="s2">,</span>
    <span class="s1">(</span><span class="s3">0</span><span class="s2">,     </span><span class="s3">0</span><span class="s2">,   </span><span class="s3">0</span><span class="s1">)</span><span class="s2">, </span><span class="s1">(</span><span class="s3">0</span><span class="s2">,     </span><span class="s3">0</span><span class="s2">,   </span><span class="s3">0</span><span class="s1">)</span><span class="s2">, </span><span class="s1">(</span><span class="s3">0</span><span class="s2">,     </span><span class="s3">0</span><span class="s2">,   </span><span class="s3">0</span><span class="s1">)</span><span class="s2">, </span><span class="s1">(</span><span class="s3">0</span><span class="s2">,     </span><span class="s3">0</span><span class="s2">,   </span><span class="s3">0</span><span class="s1">)</span><span class="s2">,</span>
    <span class="s1">(</span><span class="s3">0</span><span class="s2">,     </span><span class="s3">0</span><span class="s2">,   </span><span class="s3">0</span><span class="s1">)</span><span class="s2">, </span><span class="s1">(</span><span class="s3">0</span><span class="s2">,     </span><span class="s3">0</span><span class="s2">,   </span><span class="s3">0</span><span class="s1">)</span><span class="s2">, </span><span class="s1">(</span><span class="s3">0</span><span class="s2">,     </span><span class="s3">0</span><span class="s2">,   </span><span class="s3">0</span><span class="s1">)</span><span class="s2">, </span><span class="s1">(</span><span class="s3">0</span><span class="s2">,     </span><span class="s3">0</span><span class="s2">,   </span><span class="s3">0</span><span class="s1">)</span><span class="s2">,</span>
    <span class="s1">(</span><span class="s3">0</span><span class="s2">,     </span><span class="s3">0</span><span class="s2">,   </span><span class="s3">0</span><span class="s1">)</span><span class="s2">, </span><span class="s1">(</span><span class="s3">0</span><span class="s2">,     </span><span class="s3">0</span><span class="s2">,   </span><span class="s3">0</span><span class="s1">)</span><span class="s2">, </span><span class="s1">(</span><span class="s3">0</span><span class="s2">,     </span><span class="s3">0</span><span class="s2">,   </span><span class="s3">0</span><span class="s1">)</span><span class="s2">, </span><span class="s1">(</span><span class="s3">0</span><span class="s2">,     </span><span class="s3">0</span><span class="s2">,   </span><span class="s3">0</span><span class="s1">)</span><span class="s2">,</span>
    <span class="s1">(</span><span class="s3">0</span><span class="s2">,     </span><span class="s3">0</span><span class="s2">,   </span><span class="s3">0</span><span class="s1">)</span><span class="s2">, </span><span class="s1">(</span><span class="s3">0</span><span class="s2">,     </span><span class="s3">0</span><span class="s2">,   </span><span class="s3">0</span><span class="s1">)</span><span class="s2">, </span><span class="s1">(</span><span class="s3">0</span><span class="s2">,     </span><span class="s3">0</span><span class="s2">,   </span><span class="s3">0</span><span class="s1">)</span><span class="s2">, </span><span class="s1">(</span><span class="s3">0</span><span class="s2">,     </span><span class="s3">0</span><span class="s2">,   </span><span class="s3">0</span><span class="s1">))</span>
<span class="s0"># fmt: on</span>


<span class="s0"># so build a prototype image to be used for palette resampling</span>
<span class="s2">def </span><span class="s1">build_prototype_image():</span>
    <span class="s1">image = Image.new(</span><span class="s4">&quot;L&quot;</span><span class="s2">, </span><span class="s1">(</span><span class="s3">1</span><span class="s2">, </span><span class="s1">len(_Palm8BitColormapValues)))</span>
    <span class="s1">image.putdata(list(range(len(_Palm8BitColormapValues))))</span>
    <span class="s1">palettedata = ()</span>
    <span class="s2">for </span><span class="s1">colormapValue </span><span class="s2">in </span><span class="s1">_Palm8BitColormapValues:</span>
        <span class="s1">palettedata += colormapValue</span>
    <span class="s1">palettedata += (</span><span class="s3">0</span><span class="s2">, </span><span class="s3">0</span><span class="s2">, </span><span class="s3">0</span><span class="s1">) * (</span><span class="s3">256 </span><span class="s1">- len(_Palm8BitColormapValues))</span>
    <span class="s1">image.putpalette(palettedata)</span>
    <span class="s2">return </span><span class="s1">image</span>


<span class="s1">Palm8BitColormapImage = build_prototype_image()</span>

<span class="s0"># OK, we now have in Palm8BitColormapImage,</span>
<span class="s0"># a &quot;P&quot;-mode image with the right palette</span>
<span class="s0">#</span>
<span class="s0"># --------------------------------------------------------------------</span>

<span class="s1">_FLAGS = {</span><span class="s4">&quot;custom-colormap&quot;</span><span class="s1">: </span><span class="s3">0x4000</span><span class="s2">, </span><span class="s4">&quot;is-compressed&quot;</span><span class="s1">: </span><span class="s3">0x8000</span><span class="s2">, </span><span class="s4">&quot;has-transparent&quot;</span><span class="s1">: </span><span class="s3">0x2000</span><span class="s1">}</span>

<span class="s1">_COMPRESSION_TYPES = {</span><span class="s4">&quot;none&quot;</span><span class="s1">: </span><span class="s3">0xFF</span><span class="s2">, </span><span class="s4">&quot;rle&quot;</span><span class="s1">: </span><span class="s3">0x01</span><span class="s2">, </span><span class="s4">&quot;scanline&quot;</span><span class="s1">: </span><span class="s3">0x00</span><span class="s1">}</span>


<span class="s0">#</span>
<span class="s0"># --------------------------------------------------------------------</span>

<span class="s0">##</span>
<span class="s0"># (Internal) Image save plugin for the Palm format.</span>


<span class="s2">def </span><span class="s1">_save(im</span><span class="s2">, </span><span class="s1">fp</span><span class="s2">, </span><span class="s1">filename):</span>

    <span class="s2">if </span><span class="s1">im.mode == </span><span class="s4">&quot;P&quot;</span><span class="s1">:</span>

        <span class="s0"># we assume this is a color Palm image with the standard colormap,</span>
        <span class="s0"># unless the &quot;info&quot; dict has a &quot;custom-colormap&quot; field</span>

        <span class="s1">rawmode = </span><span class="s4">&quot;P&quot;</span>
        <span class="s1">bpp = </span><span class="s3">8</span>
        <span class="s1">version = </span><span class="s3">1</span>

    <span class="s2">elif </span><span class="s1">im.mode == </span><span class="s4">&quot;L&quot;</span><span class="s1">:</span>
        <span class="s2">if </span><span class="s1">im.encoderinfo.get(</span><span class="s4">&quot;bpp&quot;</span><span class="s1">) </span><span class="s2">in </span><span class="s1">(</span><span class="s3">1</span><span class="s2">, </span><span class="s3">2</span><span class="s2">, </span><span class="s3">4</span><span class="s1">):</span>
            <span class="s0"># this is 8-bit grayscale, so we shift it to get the high-order bits,</span>
            <span class="s0"># and invert it because</span>
            <span class="s0"># Palm does greyscale from white (0) to black (1)</span>
            <span class="s1">bpp = im.encoderinfo[</span><span class="s4">&quot;bpp&quot;</span><span class="s1">]</span>
            <span class="s1">im = im.point(</span>
                <span class="s2">lambda </span><span class="s1">x</span><span class="s2">, </span><span class="s1">shift=</span><span class="s3">8 </span><span class="s1">- bpp</span><span class="s2">, </span><span class="s1">maxval=(</span><span class="s3">1 </span><span class="s1">&lt;&lt; bpp) - </span><span class="s3">1</span><span class="s1">: maxval - (x &gt;&gt; shift)</span>
            <span class="s1">)</span>
        <span class="s2">elif </span><span class="s1">im.info.get(</span><span class="s4">&quot;bpp&quot;</span><span class="s1">) </span><span class="s2">in </span><span class="s1">(</span><span class="s3">1</span><span class="s2">, </span><span class="s3">2</span><span class="s2">, </span><span class="s3">4</span><span class="s1">):</span>
            <span class="s0"># here we assume that even though the inherent mode is 8-bit grayscale,</span>
            <span class="s0"># only the lower bpp bits are significant.</span>
            <span class="s0"># We invert them to match the Palm.</span>
            <span class="s1">bpp = im.info[</span><span class="s4">&quot;bpp&quot;</span><span class="s1">]</span>
            <span class="s1">im = im.point(</span><span class="s2">lambda </span><span class="s1">x</span><span class="s2">, </span><span class="s1">maxval=(</span><span class="s3">1 </span><span class="s1">&lt;&lt; bpp) - </span><span class="s3">1</span><span class="s1">: maxval - (x &amp; maxval))</span>
        <span class="s2">else</span><span class="s1">:</span>
            <span class="s1">msg = </span><span class="s4">f&quot;cannot write mode </span><span class="s2">{</span><span class="s1">im.mode</span><span class="s2">} </span><span class="s4">as Palm&quot;</span>
            <span class="s2">raise </span><span class="s1">OSError(msg)</span>

        <span class="s0"># we ignore the palette here</span>
        <span class="s1">im.mode = </span><span class="s4">&quot;P&quot;</span>
        <span class="s1">rawmode = </span><span class="s4">&quot;P;&quot; </span><span class="s1">+ str(bpp)</span>
        <span class="s1">version = </span><span class="s3">1</span>

    <span class="s2">elif </span><span class="s1">im.mode == </span><span class="s4">&quot;1&quot;</span><span class="s1">:</span>

        <span class="s0"># monochrome -- write it inverted, as is the Palm standard</span>
        <span class="s1">rawmode = </span><span class="s4">&quot;1;I&quot;</span>
        <span class="s1">bpp = </span><span class="s3">1</span>
        <span class="s1">version = </span><span class="s3">0</span>

    <span class="s2">else</span><span class="s1">:</span>

        <span class="s1">msg = </span><span class="s4">f&quot;cannot write mode </span><span class="s2">{</span><span class="s1">im.mode</span><span class="s2">} </span><span class="s4">as Palm&quot;</span>
        <span class="s2">raise </span><span class="s1">OSError(msg)</span>

    <span class="s0">#</span>
    <span class="s0"># make sure image data is available</span>
    <span class="s1">im.load()</span>

    <span class="s0"># write header</span>

    <span class="s1">cols = im.size[</span><span class="s3">0</span><span class="s1">]</span>
    <span class="s1">rows = im.size[</span><span class="s3">1</span><span class="s1">]</span>

    <span class="s1">rowbytes = int((cols + (</span><span class="s3">16 </span><span class="s1">// bpp - </span><span class="s3">1</span><span class="s1">)) / (</span><span class="s3">16 </span><span class="s1">// bpp)) * </span><span class="s3">2</span>
    <span class="s1">transparent_index = </span><span class="s3">0</span>
    <span class="s1">compression_type = _COMPRESSION_TYPES[</span><span class="s4">&quot;none&quot;</span><span class="s1">]</span>

    <span class="s1">flags = </span><span class="s3">0</span>
    <span class="s2">if </span><span class="s1">im.mode == </span><span class="s4">&quot;P&quot; </span><span class="s2">and </span><span class="s4">&quot;custom-colormap&quot; </span><span class="s2">in </span><span class="s1">im.info:</span>
        <span class="s1">flags = flags &amp; _FLAGS[</span><span class="s4">&quot;custom-colormap&quot;</span><span class="s1">]</span>
        <span class="s1">colormapsize = </span><span class="s3">4 </span><span class="s1">* </span><span class="s3">256 </span><span class="s1">+ </span><span class="s3">2</span>
        <span class="s1">colormapmode = im.palette.mode</span>
        <span class="s1">colormap = im.getdata().getpalette()</span>
    <span class="s2">else</span><span class="s1">:</span>
        <span class="s1">colormapsize = </span><span class="s3">0</span>

    <span class="s2">if </span><span class="s4">&quot;offset&quot; </span><span class="s2">in </span><span class="s1">im.info:</span>
        <span class="s1">offset = (rowbytes * rows + </span><span class="s3">16 </span><span class="s1">+ </span><span class="s3">3 </span><span class="s1">+ colormapsize) // </span><span class="s3">4</span>
    <span class="s2">else</span><span class="s1">:</span>
        <span class="s1">offset = </span><span class="s3">0</span>

    <span class="s1">fp.write(o16b(cols) + o16b(rows) + o16b(rowbytes) + o16b(flags))</span>
    <span class="s1">fp.write(o8(bpp))</span>
    <span class="s1">fp.write(o8(version))</span>
    <span class="s1">fp.write(o16b(offset))</span>
    <span class="s1">fp.write(o8(transparent_index))</span>
    <span class="s1">fp.write(o8(compression_type))</span>
    <span class="s1">fp.write(o16b(</span><span class="s3">0</span><span class="s1">))  </span><span class="s0"># reserved by Palm</span>

    <span class="s0"># now write colormap if necessary</span>

    <span class="s2">if </span><span class="s1">colormapsize &gt; </span><span class="s3">0</span><span class="s1">:</span>
        <span class="s1">fp.write(o16b(</span><span class="s3">256</span><span class="s1">))</span>
        <span class="s2">for </span><span class="s1">i </span><span class="s2">in </span><span class="s1">range(</span><span class="s3">256</span><span class="s1">):</span>
            <span class="s1">fp.write(o8(i))</span>
            <span class="s2">if </span><span class="s1">colormapmode == </span><span class="s4">&quot;RGB&quot;</span><span class="s1">:</span>
                <span class="s1">fp.write(</span>
                    <span class="s1">o8(colormap[</span><span class="s3">3 </span><span class="s1">* i])</span>
                    <span class="s1">+ o8(colormap[</span><span class="s3">3 </span><span class="s1">* i + </span><span class="s3">1</span><span class="s1">])</span>
                    <span class="s1">+ o8(colormap[</span><span class="s3">3 </span><span class="s1">* i + </span><span class="s3">2</span><span class="s1">])</span>
                <span class="s1">)</span>
            <span class="s2">elif </span><span class="s1">colormapmode == </span><span class="s4">&quot;RGBA&quot;</span><span class="s1">:</span>
                <span class="s1">fp.write(</span>
                    <span class="s1">o8(colormap[</span><span class="s3">4 </span><span class="s1">* i])</span>
                    <span class="s1">+ o8(colormap[</span><span class="s3">4 </span><span class="s1">* i + </span><span class="s3">1</span><span class="s1">])</span>
                    <span class="s1">+ o8(colormap[</span><span class="s3">4 </span><span class="s1">* i + </span><span class="s3">2</span><span class="s1">])</span>
                <span class="s1">)</span>

    <span class="s0"># now convert data to raw form</span>
    <span class="s1">ImageFile._save(im</span><span class="s2">, </span><span class="s1">fp</span><span class="s2">, </span><span class="s1">[(</span><span class="s4">&quot;raw&quot;</span><span class="s2">, </span><span class="s1">(</span><span class="s3">0</span><span class="s2">, </span><span class="s3">0</span><span class="s1">) + im.size</span><span class="s2">, </span><span class="s3">0</span><span class="s2">, </span><span class="s1">(rawmode</span><span class="s2">, </span><span class="s1">rowbytes</span><span class="s2">, </span><span class="s3">1</span><span class="s1">))])</span>

    <span class="s2">if </span><span class="s1">hasattr(fp</span><span class="s2">, </span><span class="s4">&quot;flush&quot;</span><span class="s1">):</span>
        <span class="s1">fp.flush()</span>


<span class="s0">#</span>
<span class="s0"># --------------------------------------------------------------------</span>

<span class="s1">Image.register_save(</span><span class="s4">&quot;Palm&quot;</span><span class="s2">, </span><span class="s1">_save)</span>

<span class="s1">Image.register_extension(</span><span class="s4">&quot;Palm&quot;</span><span class="s2">, </span><span class="s4">&quot;.palm&quot;</span><span class="s1">)</span>

<span class="s1">Image.register_mime(</span><span class="s4">&quot;Palm&quot;</span><span class="s2">, </span><span class="s4">&quot;image/palm&quot;</span><span class="s1">)</span>
</pre>
</body>
</html>